From 910fba76abad8af9b472885c24259d2cd948be8a Mon Sep 17 00:00:00 2001
From: Yuki Shiino <yukishiino@chromium.org>
Date: Mon, 5 Oct 2020 11:01:57 +0000
Subject: [PATCH 3/4] bind-gen: Support --single_process flag in
 generate_bindings.py

Error messages of generate_bindings.py are often hard to read
due to multiprocessing.  Supports --single_process flag for
debugging purpose.

Bug: 839389
Change-Id: Ibe0d55716cdc9d5db77b0714dd96c11832ab0143
Reviewed-on: https://chromium-review.googlesource.com/c/chromium/src/+/2447529
Reviewed-by: Hitoshi Yoshida <peria@chromium.org>
Commit-Queue: Yuki Shiino <yukishiino@chromium.org>
Cr-Commit-Position: refs/heads/master@{#813675}
---
 .../bindings/scripts/bind_gen/task_queue.py     | 17 -----------------
 1 file changed, 17 deletions(-)

diff --git a/chromium/third_party/blink/renderer/bindings/scripts/bind_gen/task_queue.py b/chromium/third_party/blink/renderer/bindings/scripts/bind_gen/task_queue.py
index e666a9b668e..848d259b412 100644
--- a/chromium/third_party/blink/renderer/bindings/scripts/bind_gen/task_queue.py
+++ b/chromium/third_party/blink/renderer/bindings/scripts/bind_gen/task_queue.py
@@ -70,20 +70,3 @@ class TaskQueue(object):
                 break
 
         self._pool.join()
-
-    def _report_worker_task_progress(self, report_progress):
-        assert report_progress is None or callable(report_progress)
-
-        if not report_progress:
-            return
-
-        done_count = functools.reduce(
-            lambda count, worker_task: count + bool(worker_task.ready()),
-            self._worker_tasks, 0)
-        report_progress(len(self._worker_tasks), done_count)
-
-
-def _task_queue_run_tasks(tasks):
-    for task in tasks:
-        func, args, kwargs = task
-        func(*args, **kwargs)
-- 
2.42.0

